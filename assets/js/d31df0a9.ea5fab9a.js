"use strict";(self.webpackChunklmos_website=self.webpackChunklmos_website||[]).push([[7903],{8173:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>c,contentTitle:()=>a,default:()=>h,frontMatter:()=>o,metadata:()=>t,toc:()=>l});const t=JSON.parse('{"id":"lmos_protocol/discovery","title":"Discovery Mechanisms","description":"Problem statement","source":"@site/docs/lmos_protocol/05-discovery.md","sourceDirName":"lmos_protocol","slug":"/lmos_protocol/discovery","permalink":"/lmos/docs/lmos_protocol/discovery","draft":false,"unlisted":false,"editUrl":"https://github.com/eclipse-lmos/website/edit/source/docs/lmos_protocol/05-discovery.md","tags":[],"version":"current","sidebarPosition":5,"frontMatter":{"title":"Discovery Mechanisms","sidebar_position":5},"sidebar":"protocolSidebar","previous":{"title":"Tool Description Format","permalink":"/lmos/docs/lmos_protocol/tool_description"},"next":{"title":"Registry","permalink":"/lmos/docs/lmos_protocol/registry"}}');var s=i(4848),r=i(8453);const o={title:"Discovery Mechanisms",sidebar_position:5},a=void 0,c={},l=[{value:"Problem statement",id:"problem-statement",level:2},{value:"Solution",id:"solution",level:2},{value:"Registry approach",id:"registry-approach",level:3},{value:"Local Network Discovery",id:"local-network-discovery",level:3},{value:"P2P Network",id:"p2p-network",level:3},{value:"1. Propagating Agent &amp; Tool Descriptions",id:"1-propagating-agent--tool-descriptions",level:4},{value:"Using the AT Protocol",id:"using-the-at-protocol",level:5},{value:"Using Other P2P Protocols",id:"using-other-p2p-protocols",level:5},{value:"2. Searching &amp; Discovering Agents and Tools in a P2P Registry",id:"2-searching--discovering-agents-and-tools-in-a-p2p-registry",level:4},{value:"Federated Search via AT Protocol",id:"federated-search-via-at-protocol",level:5},{value:"Decentralized Lookup (DHT-based)",id:"decentralized-lookup-dht-based",level:6}];function d(e){const n={a:"a",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",img:"img",li:"li",ol:"ol",p:"p",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h2,{id:"problem-statement",children:"Problem statement"}),"\n",(0,s.jsx)(n.p,{children:"A discovery mechanism is needed for obtaining agent descriptions, supporting both local and global networks. It must accommodate updates to agent descriptions and handle the dynamic nature of agents, allowing for their constant evolution."}),"\n",(0,s.jsx)(n.p,{children:"Agent metadata can be propagated across the network using various transport mechanisms:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Centralized Registry:"})," Agents can publish their metadata to a registry, which serves as a repository for agent information."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Local Network Discovery:"})," For local networks, protocols like mDNS (Multicast DNS) can be used to propagate agent metadata and enable discovery,"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"P2P Network:"}),"  In a decentralized solution, agents can propagate metadata using peer-to-peer (P2P) networks without relying on centralized authorities."]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"solution",children:"Solution"}),"\n",(0,s.jsx)(n.p,{children:"W3C Web of Things offers a mechanism that things can dynamically propagate metadata using protocols like mDNS for local discovery and/or can register themselves on registries for broader access. In LMOS, this approach can be adapted for agent discovery, where agents dynamically register and propagate their metadata to a registry for efficient querying. This allows LMOS agents to discover each other in real time based on specific needs or capabilities."}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.img,{alt:"Agent Discovery",src:i(690).A+"#light-mode-only",width:"899",height:"458"}),"\n",(0,s.jsx)(n.img,{alt:"Agent Discovery",src:i(2464).A+"#dark-mode-only",width:"899",height:"458"})]}),"\n",(0,s.jsx)(n.h3,{id:"registry-approach",children:"Registry approach"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.a,{href:"https://www.w3.org/TR/wot-discovery/#architecture",children:"W3C Web of Things (WoT) Discovery"})," describes how things can register themselves in a central directory, known as a Thing Description Directory (TDD), through a process that involves several steps:"]}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Directory Discovery:"}),"\nThe Thing first needs to discover the Thing Description Directory (TDD). This can be done through various introduction mechanisms like mDNS, DNS-SD, or well-known URLs."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"TD Preparation:"}),"\nThe Thing prepares its Thing Description (TD), which contains metadata about the Thing's capabilities, interfaces, and other relevant information."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Registration Request:"}),"\nThe Thing sends a registration request to the TDD. This is typically done using an HTTP POST."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Updates:"}),"\nThings can update their registered TDs by sending new registration requests with updated information."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Time-to-Live:"}),"\nRegistrations often include a time-to-live value. Things must periodically refresh their registration or send keep-alive messages to maintain their presence in the directory."]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"local-network-discovery",children:"Local Network Discovery"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.a,{href:"https://www.w3.org/TR/wot-discovery/#architecture",children:"W3C Web of Things (WoT) Discovery"})," is using ",(0,s.jsx)(n.strong,{children:"mDNS (Multicast DNS)"})," and ",(0,s.jsx)(n.strong,{children:"DNS-SD (DNS Service Discovery)"})," on a local network to discover things.\nMulticast DNS (mDNS) is a network protocol used for service discovery on a local network without relying on a centralized DNS server. Devices broadcast their presence on the network, and other devices can listen for these broadcasts to discover available services. It is commonly used in home networks (e.g., for discovering printers, smart TVs, etc.) and works in conjunction with DNS Service Discovery (DNS-SD) to advertise services."]}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Agent Advertisement:"}),"\nWoT things advertise their presence on the local network by publishing mDNS records. These records contain information about the agent, including its name, IP address, and available services."]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Service Type:"}),'\nWoT things use a specific service type for DNS-SD: "_wot._tcp". This allows other agents to easily identify and locate WoT-compatible agents on the network.']}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"TXT Records:"}),"\nAdditional information about the WoT thing is included in TXT records. These records may contain details such as:"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"The URL of the Thing Description (TD)"}),"\n",(0,s.jsx)(n.li,{children:"Metadata about the agents's capabilities"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Discovery Process:"}),'\nWhen a client or agent wants to discover WoT-compatible agents on the local network, it sends out mDNS queries for the "_wot._tcp" service type.\nThings that match this service type respond with their mDNS records, allowing the client to learn about available WoT things and their capabilities.']}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Retrieving Thing Descriptions:"}),"\nOnce a client has discovered a WoT-compatible agent, it can retrieve the agents's Thing Description using the URL provided in the TXT records.\nThe Thing Description provides detailed information about the agents's properties, actions, and events."]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"p2p-network",children:"P2P Network"}),"\n",(0,s.jsxs)(n.p,{children:["Decentralized protocols like the ",(0,s.jsx)(n.strong,{children:"AT Protocol"})," or ",(0,s.jsx)(n.strong,{children:"dat protocol"})," could provide an efficient way to propagate agent and tool descriptions while enabling peer-to-peer (P2P) discovery.\nInstead of relying on centralized registries, a ",(0,s.jsx)(n.strong,{children:"P2P protocol"})," can be used to distribute metadata across the network."]}),"\n",(0,s.jsx)(n.h4,{id:"1-propagating-agent--tool-descriptions",children:"1. Propagating Agent & Tool Descriptions"}),"\n",(0,s.jsx)(n.h5,{id:"using-the-at-protocol",children:"Using the AT Protocol"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Agents and tools ",(0,s.jsx)(n.strong,{children:"sign their metadata"})," (e.g., description, capabilities, endpoints) using ",(0,s.jsx)(n.strong,{children:"DIDs"})," and publish them on the AT Protocol\u2019s distributed network."]}),"\n",(0,s.jsxs)(n.li,{children:["The metadata is stored in ",(0,s.jsx)(n.strong,{children:"Personal Data Repositories (PDRs)"}),", ensuring that each agent or tool has control over its own information while allowing federated discovery."]}),"\n",(0,s.jsx)(n.li,{children:"These records are replicated across different nodes, ensuring redundancy and resilience without a single point of failure."}),"\n"]}),"\n",(0,s.jsx)(n.h5,{id:"using-other-p2p-protocols",children:"Using Other P2P Protocols"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Metadata can be hashed and stored on a distributed hash table (DHT)."}),"\n",(0,s.jsx)(n.li,{children:"Each agent or tool publishes metadata to a P2P storage layer."}),"\n",(0,s.jsx)(n.li,{children:"Cryptographic signatures ensure that only the agent/tool owner can modify its metadata."}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"2-searching--discovering-agents-and-tools-in-a-p2p-registry",children:"2. Searching & Discovering Agents and Tools in a P2P Registry"}),"\n",(0,s.jsx)(n.p,{children:"Once metadata is propagated, clients can search and discover agent/tool descriptions:"}),"\n",(0,s.jsx)(n.h5,{id:"federated-search-via-at-protocol",children:"Federated Search via AT Protocol"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Clients query relay servers or indexers that aggregate and cache agent/tool metadata."}),"\n",(0,s.jsx)(n.li,{children:"Since records are signed by their owners, the integrity of the retrieved metadata is guaranteed."}),"\n",(0,s.jsx)(n.li,{children:"Search results can be ranked based on factors like relevance, reputation, or availability."}),"\n"]}),"\n",(0,s.jsx)(n.h6,{id:"decentralized-lookup-dht-based",children:"Decentralized Lookup (DHT-based)"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Clients perform DHT queries to find metadata entries matching specific criteria (e.g., capabilities, API interfaces, location)."}),"\n",(0,s.jsx)(n.li,{children:"Nodes in the network collaboratively route the query to find the closest match."}),"\n",(0,s.jsx)(n.li,{children:"The client retrieves metadata and verifies authenticity via DID signatures."}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},2464:(e,n,i)=>{i.d(n,{A:()=>t});const t=i.p+"assets/images/agent_discovery-dark-c2a3927f68c4e6a33acdbd6a4ca4443c.png"},690:(e,n,i)=>{i.d(n,{A:()=>t});const t=i.p+"assets/images/agent_discovery-light-6750cef3bb251a8fff1eee7a9deadfcb.png"},8453:(e,n,i)=>{i.d(n,{R:()=>o,x:()=>a});var t=i(6540);const s={},r=t.createContext(s);function o(e){const n=t.useContext(r);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),t.createElement(r.Provider,{value:n},e.children)}}}]);