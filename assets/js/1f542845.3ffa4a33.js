"use strict";(self.webpackChunklmos_website=self.webpackChunklmos_website||[]).push([[286],{4591:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>c,contentTitle:()=>o,default:()=>h,frontMatter:()=>a,metadata:()=>s,toc:()=>l});var t=i(4848),r=i(8453);const a={title:"Spring Boot Integration",sidebar_position:2},o=void 0,s={id:"arc/spring/integration",title:"Spring Boot Integration",description:"The Arc Framework can easily be integrated into any Spring Boot application.",source:"@site/docs/arc/05-spring/integration.md",sourceDirName:"arc/05-spring",slug:"/arc/spring/integration",permalink:"/lmos/docs/arc/spring/integration",draft:!1,unlisted:!1,editUrl:"https://github.com/eclipse-lmos/website/edit/main/docs/arc/05-spring/integration.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{title:"Spring Boot Integration",sidebar_position:2},sidebar:"arcSidebar",previous:{title:"Spring Boot",permalink:"/lmos/docs/arc/spring/"},next:{title:"Agent Beans",permalink:"/lmos/docs/arc/spring/agent-beans"}},c={},l=[{value:"Getting Started",id:"getting-started",level:3},{value:"Agent Scripting",id:"agent-scripting",level:3},{value:"Agents Beans",id:"agents-beans",level:3},{value:"Adding the Azure OpenAI Client",id:"adding-the-azure-openai-client",level:3},{value:"Adding LangChain4J Clients",id:"adding-langchain4j-clients",level:3},{value:"Interacting with Agents",id:"interacting-with-agents",level:3}];function d(e){const n={a:"a",blockquote:"blockquote",code:"code",h3:"h3",p:"p",pre:"pre",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.p,{children:"The Arc Framework can easily be integrated into any Spring Boot application."}),"\n",(0,t.jsxs)(n.p,{children:["For this purpose, the ",(0,t.jsx)(n.code,{children:"arc-spring-boot-starter"})," library is provided."]}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsxs)(n.p,{children:["Also check out Spring Boot Init project here: ",(0,t.jsx)(n.a,{href:"https://github.com/eclipse-lmos/arc-spring-init",children:"https://github.com/eclipse-lmos/arc-spring-init"})]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"getting-started",children:"Getting Started"}),"\n",(0,t.jsxs)(n.p,{children:["Add the following dependencies to your project to get started.\nFor example, in the ",(0,t.jsx)(n.code,{children:"build.gradle.kts"})," file."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-kts",children:'implementation("org.eclipse.lmos:arc-spring-boot-starter:$arcVersion")\n\n// recommended, but not required\nimplementation("org.springframework.boot:spring-boot-starter-actuator")\nimplementation("io.micrometer:micrometer-registry-prometheus")\n'})}),"\n",(0,t.jsxs)(n.p,{children:["The ",(0,t.jsx)(n.code,{children:"arc-spring-boot-starter"})," library will set up the necessary beans and configurations\nto run the Arc Agents within the Spring Boot application."]}),"\n",(0,t.jsxs)(n.p,{children:["To better understand what Arc Agents components are loaded see ",(0,t.jsx)(n.a,{href:"/docs/arc/manual_setup",children:"Manual Setup"}),"."]}),"\n",(0,t.jsx)(n.h3,{id:"agent-scripting",children:"Agent Scripting"}),"\n",(0,t.jsxs)(n.p,{children:["To load Arc Agents defined in script files, add the ",(0,t.jsx)(n.code,{children:"arc-scripting"})," dependency to your project."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-kts",children:'implementation("org.eclipse.lmos:arc-scripting:$arcVersion")\n'})}),"\n",(0,t.jsxs)(n.p,{children:["The following properties can be set in the ",(0,t.jsx)(n.code,{children:"application.yml"})," file\nto configure the Arc Agent Scripting."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",children:"arc:\n  scripts:\n    folder: ./agents // the folder to load the scripts from\n    hotReload:\n      enable: true\n      delay: PT1S \n"})}),"\n",(0,t.jsxs)(n.p,{children:["Now any Agent and Agent Functions defined in the ",(0,t.jsx)(n.code,{children:"./agents"})," folder will be loaded and run by the Arc Application."]}),"\n",(0,t.jsx)(n.h3,{id:"agents-beans",children:"Agents Beans"}),"\n",(0,t.jsxs)(n.p,{children:["Agents can also be defined as Spring Beans, see the ",(0,t.jsx)(n.a,{href:"/docs/arc/spring/agent-beans",children:"Spring Beans"})," documentation for more information."]}),"\n",(0,t.jsx)(n.h3,{id:"adding-the-azure-openai-client",children:"Adding the Azure OpenAI Client"}),"\n",(0,t.jsxs)(n.p,{children:["To automatically add an ",(0,t.jsx)(n.code,{children:"AzureAIClient"})," instance in your Spring Container,\nsimply add the ",(0,t.jsx)(n.code,{children:"arc-azure-client"})," dependency to your project."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-kts",children:'    implementation("org.eclipse.lmos:arc-azure-client:$arcVersion")\n'})}),"\n",(0,t.jsxs)(n.p,{children:["You may also want to add the Azure Identity library if you require a different authentication than an API-Key.\nSee ",(0,t.jsx)(n.a,{href:"https://learn.microsoft.com/en-us/azure/developer/java/sdk/authentication/overview",children:"https://learn.microsoft.com/en-us/azure/developer/java/sdk/authentication/overview"})]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-kts",children:'implementation("com.azure:azure-identity:1.13.1")\n'})}),"\n",(0,t.jsxs)(n.p,{children:["Then configure the client in the ",(0,t.jsx)(n.code,{children:"application.yml"})," file:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",children:'arc:\n  ai:\n    clients:\n      # To connect to an OpenAI Model\n      - id: GPT-4o\n        model-name: gpt-4o\n        api-key: ${OPENAI_API_KEY}\n        client: openai\n        \n      # To connect to an Azure OpenAI Model (requires the Azure Identity library and "az login" to be setup)\n      - id: GPT-4o-Azure\n        model-name: gpt-4o\n        url: ${AZURE_OPENAI_URL}\n        client: azure      \n        \n      # To connect to an Azure OpenAI Model with an API Key\n      - id: GPT-4o-Azure-ApiKey\n        model-name: gpt-4o\n        url: ${AZURE_OPENAI_URL}\n        api-key: ${AZURE_API_KEY}\n        client: azure\n'})}),"\n",(0,t.jsx)(n.h3,{id:"adding-langchain4j-clients",children:"Adding LangChain4J Clients"}),"\n",(0,t.jsxs)(n.p,{children:["The Arc Framework can also use LangChain4J clients to connect to different language models.\nSimply add the ",(0,t.jsx)(n.code,{children:"langchain4j"})," libraries that are required for your project."]}),"\n",(0,t.jsxs)(n.p,{children:["Check ",(0,t.jsx)(n.a,{href:"/docs/arc/clients/langchain4j",children:"LangChain4J"})," for the list of available clients."]}),"\n",(0,t.jsx)(n.p,{children:"For example:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-kts",children:'  implementation("dev.langchain4j:langchain4j-bedrock:$langchain4jVersion")\n  implementation("dev.langchain4j:langchain4j-google-ai-gemini:$langchain4jVersion") \n  implementation("dev.langchain4j:langchain4j-ollama:$langchain4jVersion")\n'})}),"\n",(0,t.jsxs)(n.p,{children:["Then configure the client in the ",(0,t.jsx)(n.code,{children:"application.yml"})," file. For example:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",children:"arc:\n  ai:\n    clients:\n      # Ollama (models running locally)\n      - id: llama3:8b\n        modelName: llama3:8b\n        client: ollama      \n      \n      # Models hosted on Amazon Bedrock\n      - id: anthropic\n        url: eu-central-1\n        accessKey: $ACCESS_KEY\n        accessSecret: $ACCESS_SECRET\n        modelName: anthropic.claude-3-5-sonnet-20240620-v1:0\n        client: bedrock \n        \n      # Gemini \n      - id: gemini\n        modelName: gemini-1.5-flash\n        url: $GEMINI_URL\n        apiKey: $GEMINI_API_KEY\n        client: gemini\n"})}),"\n",(0,t.jsx)(n.h3,{id:"interacting-with-agents",children:"Interacting with Agents"}),"\n",(0,t.jsxs)(n.p,{children:["Once the Arc Agents are running, you can interact with them through the ",(0,t.jsx)(n.code,{children:"AgentProvider"})," bean."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-kotlin",children:"@Bean\nval agentProvider: AgentProvider\n\nagentProvider.getAgents()\n"})}),"\n",(0,t.jsxs)(n.p,{children:["Alternatively, you can use the Agent GraphQL API. See the ",(0,t.jsx)(n.a,{href:"/docs/arc/spring/graphql",children:"GraphQL API"})," documentation for more information."]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>o,x:()=>s});var t=i(6540);const r={},a=t.createContext(r);function o(e){const n=t.useContext(a);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),t.createElement(a.Provider,{value:n},e.children)}}}]);