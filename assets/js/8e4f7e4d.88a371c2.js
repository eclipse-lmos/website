"use strict";(self.webpackChunklmos_website=self.webpackChunklmos_website||[]).push([[3080],{8956:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>d,contentTitle:()=>l,default:()=>h,frontMatter:()=>o,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"arc/dsl/defining_agents","title":"Defining Agents","description":"Agents are defined using the Arc Agent DSL.","source":"@site/docs/arc/01-dsl/defining_agents.md","sourceDirName":"arc/01-dsl","slug":"/arc/dsl/defining_agents","permalink":"/lmos/docs/arc/dsl/defining_agents","draft":false,"unlisted":false,"editUrl":"https://github.com/eclipse-lmos/website/edit/source/docs/arc/01-dsl/defining_agents.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"title":"Defining Agents","sidebar_position":1},"sidebar":"arcSidebar","previous":{"title":"Agent DSL","permalink":"/lmos/docs/arc/dsl/"},"next":{"title":"Glossary","permalink":"/lmos/docs/arc/dsl/gloassary"}}');var r=n(4848),i=n(8453);const o={title:"Defining Agents",sidebar_position:1},l=void 0,d={},c=[{value:"Overview",id:"overview",level:3},{value:"Prompt templating",id:"prompt-templating",level:3}];function a(e){const t={a:"a",code:"code",h3:"h3",li:"li",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.p,{children:"Agents are defined using the Arc Agent DSL."}),"\n",(0,r.jsx)(t.p,{children:"Example"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-kts",children:'agent {\n    name = "weather"\n    description = "Agent that provides weather data."\n    model { "gemma:7b" }\n    prompt { """\n       You are a professional weather service.\n       You have access to real-time weather data with the get_weather function.\n       Keep your answer short and concise.\n       All you require is the location.\n       if you cannot help the user, simply reply "I cant help you"\n     """\n    }\n    tools {\n        +"get_weather"\n    }\n}\n'})}),"\n",(0,r.jsx)(t.h3,{id:"overview",children:"Overview"}),"\n",(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{children:"Name"}),(0,r.jsx)(t.th,{children:"Description"})]})}),(0,r.jsxs)(t.tbody,{children:[(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"name"}),(0,r.jsx)(t.td,{children:"The name of the Agent. This should be a unique identifier. Preferably without special characters."})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"model"}),(0,r.jsx)(t.td,{children:"The model that should be provided to the Agent."})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"description"}),(0,r.jsx)(t.td,{children:"A short description of what the Agent does."})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"prompt"}),(0,r.jsxs)(t.td,{children:["The System Prompt of the Agent. The ",(0,r.jsx)(t.code,{children:"prompt"})," defines the core objective, goals and instructions for Agents."]})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"tools"}),(0,r.jsxs)(t.td,{children:["A list of tools/functions that the Agent uses, ",(0,r.jsx)(t.a,{href:"../defining_functions",children:"see"}),"."]})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"filterInput"}),(0,r.jsxs)(t.td,{children:["Defines filter logic, ",(0,r.jsx)(t.a,{href:"../filters",children:"see"}),"."]})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"filterOutput"}),(0,r.jsxs)(t.td,{children:["Defines filter logic, ",(0,r.jsx)(t.a,{href:"../filters",children:"see"}),"."]})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"limit"}),(0,r.jsxs)(t.td,{children:["Defines a rate limiter, ",(0,r.jsx)(t.a,{href:"../Features/rate_limiter",children:"see"}),"."]})]})]})]}),"\n",(0,r.jsx)(t.p,{children:"See the following pages on how to load the agents into your application."}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsx)(t.li,{children:(0,r.jsx)(t.a,{href:"/docs/arc/manual_setup",children:"Manual Setup"})}),"\n",(0,r.jsx)(t.li,{children:(0,r.jsx)(t.a,{href:"/docs/arc/spring/agent-beans",children:"Spring Boot Beans"})}),"\n"]}),"\n",(0,r.jsx)(t.h3,{id:"prompt-templating",children:"Prompt templating"}),"\n",(0,r.jsxs)(t.p,{children:["The ",(0,r.jsx)(t.code,{children:"prompt"})," function of an Agent is called on each request.\nMeaning that it can be dynamically customized to best suit the current context.\nNow although Kotlin Strings are quite powerful,\nadding logical constructs such as ",(0,r.jsx)(t.code,{children:"if"})," and ",(0,r.jsx)(t.code,{children:"for loops"})," statements can be cumbersome."]}),"\n",(0,r.jsxs)(t.p,{children:["For this purpose, the Arc DSL overwrites the UnaryPlus operator, ",(0,r.jsx)(t.code,{children:"+"}),", within the ",(0,r.jsx)(t.code,{children:"prompt"})," block\nto allow for simple string concatenation."]}),"\n",(0,r.jsxs)(t.p,{children:["For example, the following code snippet shows how to use the ",(0,r.jsx)(t.code,{children:"+"})," operator to build a dynamic prompt."]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-kts",children:'agent {\n    prompt {\n        +"Here is the first part og the prompt."\n        if(someCondition) {\n            +"Here is a conditional part of the prompt."\n        }\n      "The last part of the prompt (this does not require a + because it is automatically returned)."\n    }\n}\n'})})]})}function h(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(a,{...e})}):a(e)}},8453:(e,t,n)=>{n.d(t,{R:()=>o,x:()=>l});var s=n(6540);const r={},i=s.createContext(r);function o(e){const t=s.useContext(i);return s.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function l(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),s.createElement(i.Provider,{value:t},e.children)}}}]);