"use strict";(self.webpackChunklmos_website=self.webpackChunklmos_website||[]).push([[4159],{84:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>r,default:()=>u,frontMatter:()=>i,metadata:()=>o,toc:()=>c});const o=JSON.parse('{"id":"arc/cookbook/supervisor","title":"Supervisor Agent","description":"The Supervisor Agent example highlights how agents can communicate with each other.","source":"@site/docs/arc/04-cookbook/supervisor.md","sourceDirName":"arc/04-cookbook","slug":"/arc/cookbook/supervisor","permalink":"/lmos/docs/arc/cookbook/supervisor","draft":false,"unlisted":false,"editUrl":"https://github.com/eclipse-lmos/website/edit/source/docs/arc/04-cookbook/supervisor.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2,"title":"Supervisor Agent"},"sidebar":"arcSidebar","previous":{"title":"Summarizer Agent","permalink":"/lmos/docs/arc/cookbook/summarizer"},"next":{"title":"Weather Agent","permalink":"/lmos/docs/arc/cookbook/weather"}}');var s=t(4848),a=t(8453);const i={sidebar_position:2,title:"Supervisor Agent"},r=void 0,l={},c=[{value:"Supervisor Agent",id:"supervisor-agent",level:2},{value:"Agents",id:"agents",level:3},{value:"Functions",id:"functions",level:3}];function h(e){const n={code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,a.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.p,{children:"The Supervisor Agent example highlights how agents can communicate with each other."}),"\n",(0,s.jsx)(n.h2,{id:"supervisor-agent",children:"Supervisor Agent"}),"\n",(0,s.jsxs)(n.p,{children:["The Supervisor Agent uses the ",(0,s.jsx)(n.code,{children:"call_agent"})," function to call other agents for assistance."]}),"\n",(0,s.jsx)(n.p,{children:"Add the following Agents and Functions to your application and try some of the following questions:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"What is the weather like in Berlin?"}),"\n",(0,s.jsx)(n.li,{children:"Book a hotel in Berlin."}),"\n",(0,s.jsx)(n.li,{children:"Book a hotel in Berlin, but only if the weather is good."}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Note:"})," The ",(0,s.jsx)(n.code,{children:"call_agent"})," function is located in the ",(0,s.jsx)(n.code,{children:"org.eclipse.lmos.arc.agents.dsl.extensions"})," package.\nWhen using Arc DSL scripts, the package is imported automatically."]}),"\n",(0,s.jsx)(n.h3,{id:"agents",children:"Agents"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-kts",children:'\nagent {\n    name = "supervisor-agent"\n    model { "GPT-4o" }\n    tools {\n        +"call_agent"\n    }\n    prompt {\n        """\n        ## Goal\n        You are a supervisor agent. \n        Your mission is to assist the user in their tasks by providing information and support.\n        You should defer to other agents to get their help. Call multiple agents if needed.\n       \n        ## Instructions\n        - Always be polite and helpful.\n        - If you cannot help the user, simply reply I cant help you.\n        - Use the Agent list to find the right agent for the job.\n        - Use the "call_agent" function to call other agents.\n          \n        ## Agent List\n        - Name: weather-agent\n          Details: Provides weather information.\n          \n        - Name: booking-agent\n          Details: Helpful for listing and booking hotels.\n        """\n    }\n}\n\nagent {\n    name = "booking-agent"\n    prompt {\n        """\n        You are a booking agent that helps customers to find and book hotels.\n\n       ## Instructions\n       - Use the list hotels function to list all available hotels.\n       - Use the booking function to book a hotel.\n       - If you cannot help the user, simply reply I cant help you\n     """\n    }\n    tools {\n        +"book_hotel"\n        +"list_hotels"\n    }\n}\n\nagent {\n    name = "weather-agent"\n    prompt {\n        """\n        You are a professional weather service. You provide weather data to your users.\n        You have access to real-time weather data with the get_weather function.\n\n       ## Instructions\n       - If you cannot help the user, simply reply I cant help you\n       - Use the get_weather function to get the weather data.\n     """\n    }\n    tools {\n        +"get_weather"\n    }\n}\n'})}),"\n",(0,s.jsx)(n.h3,{id:"functions",children:"Functions"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-kts",children:'\nfunction(\n    name = "call_agent",\n    description = "Calls another agent.",\n    params = types(\n        string("name", "the name of the agent to call."),\n        string("question", "the question to aks the agent.")\n    )\n) { (agentName, question) ->\n\n    emitMessage("Calling $agentName with \'$question\'...")\n    memory("last_call_agent", agentName)\n\n    // we get the current conversation and replace the last message with the new question to ask the agent.\n    val conversation = get<Conversation>().removeLast() + UserMessage(question.toString())\n    val resultConversation = callAgent(agentName.toString(), conversation).getOrNull()\n    resultConversation?.latest<AssistantMessage>()?.content ?: "I couldn\'t reach the agent."\n}\n\nfunction(\n    name = "book_hotel",\n    description = "Books a hotel.",\n    params = types(\n        string("name", "The name of the hotel to book.")\n    )\n) { (hotel) ->\n    """\n      $hotel was booked successfully.\n  """\n}\n\nfunction(\n    name = "list_hotels",\n    description = "List available hotels.",\n) {\n    """\n     Name: The King\'s Hotel\n     Price: 100 euros\n     Location: Berlin\n     \n     Name: The Prince Hotel\n     Price: 80 euros\n     Location: Bonn\n     \n     Name: The Queen Hotel\n     Price: 200 euros\n     Location: Hamburg\n  """\n}\n\n\nfunction(\n    name = "get_weather",\n    description = "Returns the current weather.",\n    params = types(\n        string("location", "the location to get the weather for."),\n    )\n) { (location) ->\n    """The weather is sunny in $location. A lovely 32 degrees celsius."""\n}\n\n'})})]})}function u(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>i,x:()=>r});var o=t(6540);const s={},a=o.createContext(s);function i(e){const n=o.useContext(a);return o.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:i(e.components),o.createElement(a.Provider,{value:n},e.children)}}}]);